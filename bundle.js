(()=>{"use strict";async function n(n){const e=await fetch(`https://api.weatherapi.com/v1/current.json?key=ff67773d96384e45a29113456242210&q=${n}`);return await e.json()}function e(n){return`\n        <div class = "form">\n        <h2>${n.location.name}, ${n.location.country}</h2>\n        <span><img src="${n.current.condition.icon}" align="center"></img></span>\n        <span>Температура: ${n.current.temp_c}°C, ветер: ${n.current.wind_mph} м/c </span>\n        <h3>На карте</h3>\n        <img src="__https://static-maps.yandex.ru/v1?ll=${n.location.lon},${n.location.lat}&size=300,300&spn=0.026457,0.0619&apikey=25b219d8-43b5-4d03-94c4-6dff815d896a">\n        </div>`}!async function(t){document.createElement("header").innerHTML="<h2>Прогноз погоды</h2>";const a=await async function(){const n=await fetch("https://get.geojs.io/v1/ip/geo.json"),e=(await n.json()).city;return console.log("город",e),e}();let c=await n(a);const o=document.createElement("weatherShowContainer");o.innerHTML=`${e(c)}`,t.append(o);const i=document.createElement("input");i.placeholder="Введите город",t.append(i);const r=document.createElement("button");r.innerHTML="Посмотрим, что с погодой",t.append(r);const s=document.createElement("containerFoundedCities");t.append(s),r.addEventListener("click",(async()=>{s.innerHTML="<h2>Ранее вы искали</h2>";const t=i.value.trim();t&&(c=await n(t),o.innerHTML=`${e(c)}`,i.value=""),function(n){const e=JSON.parse(localStorage.getItem("keyWeather"))||[];e.includes(n)||(e.push(n),e.length>10&&e.shift(),localStorage.setItem("keyWeather",JSON.stringify(e)))}(t),(JSON.parse(localStorage.getItem("keyWeather"))||[]).forEach((t=>{const a=document.createElement("div");a.innerHTML=t,a.addEventListener("click",(async()=>{const a=await async function(t){const a=await n(t),c=document.createElement("weatherShowContainer"),o=e(a);return c.innerHTML=`${o}`,c.innerHTML}(t);o.innerHTML=`${a}`})),s.appendChild(a)}))}))}(function(){const n=document.createElement("div");return n.id="weatherUI",document.body.append(n),n}())})();